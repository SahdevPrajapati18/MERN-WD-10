<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Explorer</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        
    </style>
</head>
<body>
    <header class="site-header">
        <div class="brand">
                <h1>Movie Explorer</h1>
        </div>
      
    </header>

    <div class="container">
        <div class="search">
            <input type="text" placeholder="Enter movie name">
            <button>Search</button>
        </div>
        <div class="results"></div>
    </div>
    <div class="cards">
        <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
        <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
        <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
        <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
        <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
        <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
        <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
        <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
        <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
        <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
         <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
         <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
         <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
         <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
         <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
         <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
         <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
         <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
         <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>
         <div class="card">
            <div class="card-img">
                <img src="" alt="Movie Poster" width="200px">
            </div>
            <div class="card-title">
                <h2></h2>
            </div>
            <div class="card-desc">
                <p></p>
            </div>
        </div>

    </div>
    <footer>
        <p style="text-align: center;">&copy; 2024 Movie Explorer. All rights reserved.</p>
    </footer>
   <script>
    (function(){
        const API_KEY = "630d90cf9de8c2f1cfd7f15f58d9a8d2";
        const BASE_URL = "https://api.themoviedb.org/3";

        const input = document.querySelector('.search input');
        const btn = document.querySelector('.search button');
        const results = document.querySelector('.results');
        let cards = document.querySelectorAll('.card');

        function displayMovies(movies, title = 'Movies'){
            results.innerHTML = `<h2>${title} (${movies.length})</h2>`;
            cards = document.querySelectorAll('.card');
            movies.forEach((movie, idx) => {
                if(idx < cards.length){
                    const c = cards[idx];
                    const img = c.querySelector('img');
                    img.src = movie.poster_path ? `https://image.tmdb.org/t/p/w300${movie.poster_path}` : 'https://via.placeholder.com/300x450?text=No+Image';
                    img.alt = movie.title || 'Poster';
                    c.querySelector('.card-title h2').innerText = movie.title || '';
                    const desc = movie.overview ? movie.overview.substring(0,140) + (movie.overview.length>140? '...' : '') : 'No description available';
                    const rel = movie.release_date || 'N/A';
                    c.querySelector('.card-desc p').innerHTML = `<strong>Release:</strong> ${rel}<br>${desc}`;
                }
            });
            for(let i = movies.length; i < cards.length; i++){
                const c = cards[i];
                c.querySelector('img').src = '';
                c.querySelector('.card-title h2').innerText = '';
                c.querySelector('.card-desc p').innerText = '';
            }
        }

        async function loadPopularMovies(){
            try{
                const res = await fetch(`${BASE_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=1`);
                if(!res.ok) throw new Error(`HTTP ${res.status}`);
                const data = await res.json();
                if(data.results) displayMovies(data.results, 'Popular Movies');
            }catch(err){
                console.error(err);
                results.innerHTML = `<h2>Error loading popular movies</h2><p>${err.message}</p>`;
            }
        }

        async function searchMovies(q){
            const query = (q || '').trim();
            if(!query) return loadPopularMovies();
            try{
                const res = await fetch(`${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${encodeURIComponent(query)}&page=1&include_adult=false`);
                if(!res.ok) throw new Error(`HTTP ${res.status}`);
                const data = await res.json();
                if(data.results && data.results.length) displayMovies(data.results, `Results for "${query}"`);
                else results.innerHTML = `<h2>No results for "${query}"</h2>`;
            }catch(err){
                console.error(err);
                results.innerHTML = `<h2>Error searching movies</h2><p>${err.message}</p>`;
            }
        }

        window.addEventListener('DOMContentLoaded', () => {
            loadPopularMovies();
        });

        if(input){
            input.addEventListener('keydown', (e)=>{
                if(e.key === 'Enter') searchMovies(input.value);
            });
        }

        if(btn){
            btn.addEventListener('click', ()=> searchMovies(input ? input.value : ''));
        }
    })();
   </script>


</body>
</html>